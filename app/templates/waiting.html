{% extends "base.html" %}

{% block content %}
<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-lg">
    <div class="text-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Waiting for Player 2</h2>
        <div class="animate-spin inline-block w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mb-4"></div>
        <p class="text-gray-600">Share this game ID with your friend:</p>
    </div>

    <!-- Game ID Display -->
    <div class="bg-gray-50 p-4 rounded-lg text-center mb-6">
        <span class="font-mono text-xl bg-white px-3 py-2 rounded border">{{ game.id }}</span>
        <button
            class="ml-2 text-blue-500 hover:text-blue-700"
            onclick="navigator.clipboard.writeText('{{ game.id }}')"
        >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
            </svg>
        </button>
    </div>

    <!-- Auto-refresh to check for player join -->
    <div 
        hx-get="/game/status/{{ game.id }}"
        hx-trigger="every 2s"
        hx-target="#game-container"
    >
        <p class="text-sm text-gray-500 text-center">
            Waiting for player to join...
        </p>
    </div>

    <!-- Cancel Game Option -->
    <div class="text-center mt-6">
        <button
            class="text-red-500 hover:text-red-700 text-sm"
            hx-get="/"
            hx-target="body"
        >
            Cancel Game
        </button>
    </div>
</div>
{% endblock %} 